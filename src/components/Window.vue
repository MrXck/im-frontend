<template>    <div class="window">        <div class="message">            <div v-for="item in messageList">                <MyMessage v-if="item.fromId !== parseInt(id) && item.type === 2" :time="timeFormat(item.time)"                           :avatar="avatar"                           :message="item.message" :key="item.id"/>                <OtherMessage v-else-if="item.fromId === parseInt(id) && item.type === 2" :time="timeFormat(item.time)" :avatar="avatar"                              :message="item.message" :key="item.id"/>                <MyPic v-else-if="item.fromId !== parseInt(id) && item.type === 3" :time="timeFormat(item.time)"                           :avatar="avatar"                           :message="item.message" :key="item.id"/>                <OtherPic v-else-if="item.fromId === parseInt(id) && item.type === 3" :time="timeFormat(item.time)"                          :avatar="avatar"                          :message="item.message" :key="item.id"/>                <MyFile v-else-if="item.fromId !== parseInt(id) && item.type === 4" :time="timeFormat(item.time)"                        :avatar="avatar"                        :message="item.message" :key="item.id"/>                <OtherFile v-else-if="item.fromId === parseInt(id) && item.type === 4" :time="timeFormat(item.time)"                           :avatar="avatar"                           :message="item.message" :key="item.id"/>            </div>        </div>    </div></template><script>import MyMessage from '@/components/MyMessage'import OtherMessage from '@/components/OtherMessage'import MyFile from '@/components/MyFile'import OtherFile from '@/components/OtherFile'import MyPic from '@/components/MyPic'import OtherPic from '@/components/OtherPic'import request from '@/utils/request'import eventBus from '@/utils/eventBus'export default {    name: 'Window',    components: {OtherPic, MyPic, OtherFile, MyFile, OtherMessage, MyMessage},    props: ['id', 'avatar'],    data(){        return {            messageList: []        }    },    methods: {        init(){            request.post("/message/" + this.id).then((data)=>{                if (data.data.code === 0) {                    this.messageList = data.data.data                } else {                    this.$message.error(data.data.msg)                }            })        },        timeFormat(time){            if(time instanceof Date){                return time.toLocaleString().replace("/", "-").replace("/", "-")            }            return time.replace("T", " ")        }    },    created() {        this.init()        eventBus.$on('addMessage', val =>{            this.messageList = [...this.messageList, val]        })    }}</script><style scoped>.window{    width: 100%;    height: 450px;    overflow-y: auto;}.message{    padding: 0 20px;}.window::-webkit-scrollbar { /*滚动条整体样式*/    width: 4px; /*高宽分别对应横竖滚动条的尺寸*/    height: 4px;    scrollbar-arrow-color: red;}.window::-webkit-scrollbar-thumb { /*滚动条里面小方块*/    border-radius: 5px;    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);    background: rgba(0, 0, 0, 0.2);    scrollbar-arrow-color: red;}.window::-webkit-scrollbar-track { /*滚动条里面轨道*/    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);    border-radius: 0;    background: rgba(0, 0, 0, 0);}</style>