<template>    <div class="dialog">        <div class="input">            <textarea v-model="message" @keyup.enter="sendToServer"></textarea>            <el-button size="small" type="success" @click="sendToServer">发送</el-button>        </div>    </div></template><script>import eventBus from '@/utils/eventBus'import socket from '@/utils/Socket'export default {    name: 'ChatDialog',    data(){        return {            message: ''        }    },    methods: {        send(val){            val.avatar = JSON.parse(localStorage.getItem("user")).avatar            eventBus.$emit('addChatMessage', val)        },        sendToServer(){            if(this.message !== ''){                let _this = this                let message = {                    fromId: JSON.parse(localStorage.getItem("user")).id,                    message: _this.message,                    type: 5,                    time: new Date(),                    Authorization: localStorage.getItem("token")                }                socket.send(JSON.stringify(message))                this.send(message)                this.message = ''            }else{                this.$message.error("不能发送空消息")            }        }    }}</script><style scoped>.dialog{    height: 143px;    padding: 10px;    border-top: 1px solid #d4d4d5;}.input{    padding: 10px;    display: flex;    flex-direction: column;    align-items: flex-end;}textarea {    outline: none;    border: 0;    background-color: #f3f3f4;    height: 65px;    font-size: 14px;    width: 100%;    resize: none;}</style>