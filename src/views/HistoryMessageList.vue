<template>    <div class="history">        <div class="list">            <div class="search">                <div class="search-input">                    <i class="fa fa-search"></i>                    <input v-model="key" @keyup.enter="search" type="text" placeholder="搜索">                </div>                <div class="button">                    <i class="fa fa-search" @click="search"></i>                </div>            </div>            <div class="users">                <Item :toPath="'/history/' + item.id" v-for="item in list" :id="item.id" :avatar="item.avatar" :username="item.username" :synopsis="item.synopsis"                      :key="item.id"></Item>            </div>        </div>        <router-view/>    </div></template><script>import Item from '@/components/Item'import request from '@/utils/request'import eventBus from '@/utils/eventBus'export default {    name: 'HistoryMessageList',    components: {        Item    },    data(){        return {            historyMessageList: [],            list: [],            key: ''        }    },    methods: {        search(){            this.list = this.historyMessageList.filter(item => {                return (item.username.indexOf(this.key) !== -1)            })        }    },    created() {        request.get("/history/list").then((data)=>{            if(data.data.code === 0){                this.historyMessageList = data.data.data                this.list = [...this.historyMessageList]            }else{                this.$message.error(data.data.msg)            }        })    },    // watch: {    //     key(){    //         this.list = this.historyMessageList.filter(item => {    //             return (item.username.indexOf(this.key) !== -1)    //         })    //     }    // }}</script><style scoped>.history{    display: flex;}.list{    height: 648px;    width: 240px;    display: flex;    flex-direction: column;    border: 1px solid #d4d4d5;}.search{    background-color: #f5f5f6;    display: flex;    justify-content: space-around;    width: 100%;}.search div{    margin-top: 20px;    margin-left: 10px;    margin-bottom: 10px;    overflow: hidden;}.search .search-input{    background-color: #e2e2e2;    border-radius: 4px;    flex: 3;}.search .search-input i{    padding: 0 5px;}input{    outline: none;    border: 0;    background-color: #e2e2e2;    height: 25px;    width: 130px;}.button i{    cursor: pointer;}.fa{    color: #666666;}.fa-search{    font-size: 16px;    padding-right: 10px;}.users{    background-color: #ebe9e7;    width: 240px;    height: 593px;    overflow-y: auto;}.users::-webkit-scrollbar { /*滚动条整体样式*/    width: 4px; /*高宽分别对应横竖滚动条的尺寸*/    height: 4px;    scrollbar-arrow-color: red;}.users::-webkit-scrollbar-thumb { /*滚动条里面小方块*/    border-radius: 5px;    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);    background: rgba(0, 0, 0, 0.2);    scrollbar-arrow-color: red;}.users::-webkit-scrollbar-track { /*滚动条里面轨道*/    -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);    border-radius: 0;    background: rgba(0, 0, 0, 0);}</style>